apiVersion: networking.k8s.io/v1beta1
kind: Ingress
metadata:
  name: customercare-ingress
  namespace: hydra
  # annotations:
  #   api.stage.hydra.endava-test-domain.be/aws-load-balancer-ssl-cert: arn:aws:acm:us-east-1:555256523315:certificate/6e92c939-f50f-464d-b044-8daadae2f396
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
    service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: '60'
    service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: 'true'
    service.beta.kubernetes.io/aws-load-balancer-ssl-cert: arn:aws:acm:us-east-1:555256523315:certificate/6e92c939-f50f-464d-b044-8daadae2f396
    service.beta.kubernetes.io/aws-load-balancer-ssl-ports: https
    service.beta.kubernetes.io/aws-load-balancer-type: elb
spec:
  # tls:
  #   - hosts:
  #     - api.stage.hydra.endava-test-domain.be
  #     secretName: hydra-tls-secret
  rules:
  - host: api.hydra.endava-test-domain.be
    http:
      paths:
      - backend:
          serviceName: customer-care-service
          servicePort: 80
  - host: api.stage.hydra.endava-test-domain.be
    http:
      paths:
      - backend:
          serviceName: customer-care-service
          servicePort: 80